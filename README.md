# JPA Query Optimization

This repository contains a small JPA example to demonstrate bad JPA queries. It is used to check how much SQL statements are executed, generated by Hibernate.
To check the number of SQL statements, the library [Hibernate SQL Query Assertions](https://github.com/Lemick/hibernate-query-asserts) is used.

## Commands

Run MySQL with Docker:

```sh
docker run --name mysql-jpa-query-optimization -e MYSQL_ROOT_PASSWORD=secret -p 3306:3306 -d mysql:8.4
```

Execute `createtable.sql`:

```sh
docker exec -i mysql-jpa-query-optimization mysql -uroot -psecret < create-table.sql
```

Compile:

```sh
mvn package
```

Execute tests:

```sh
mvn test
```

Run:

```sh
mvn compile exec:java
```
